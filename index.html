<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DANNA'S ELITE QUEST 2026</title>
    <style>
        :root {
            --bg: #f0f7ff;
            --purple: #9b6dff;
            --pink: #ff85a1;
            --dark: #444;
            --white: #ffffff;
        }

        body {
            background-color: var(--bg);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        /* HEADER */
        .header {
            background: var(--white);
            border: 8px solid var(--purple); /* Borde m√°s grueso */
            border-radius: 40px;
            padding: 30px;
            width: 90%;
            max-width: 850px;
            position: relative;
            text-align: center;
            box-shadow: 0 12px 0 var(--purple);
            margin-bottom: 30px;
        }

        #title {
            font-family: 'Georgia', serif;
            font-style: italic; /* Letra cursiva */
            font-size: 2.5em;
            margin: 10px 0;
            outline: none;
        }

        .snoopy { position: absolute; right: 25px; top: 15px; width: 85px; }

        /* WIDGETS SUPERIORES */
        .top-widgets {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            width: 90%;
            max-width: 850px;
            margin-bottom: 30px;
        }

        .widget {
            background: white;
            border: 6px solid var(--purple);
            border-radius: 25px;
            padding: 15px;
            flex: 1;
            min-width: 250px;
            text-align: center;
        }

        /* LISTA DE TAREAS MEJORADA */
        .todo-item {
            background: #f9f0ff;
            margin: 8px 0;
            padding: 12px;
            border-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 8px solid var(--purple);
            font-weight: 500;
        }

        .todo-text { cursor: pointer; flex: 1; }
        .todo-text.completed { text-decoration: line-through; opacity: 0.5; }
        
        .delete-btn {
            color: white;
            background: var(--pink);
            border: none;
            border-radius: 8px;
            padding: 5px 10px;
            cursor: pointer;
            font-weight: bold;
            margin-left: 10px;
        }

        /* GRID DEL DASHBOARD */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            gap: 25px;
            width: 95%;
            max-width: 1200px;
        }

        section {
            background: var(--white);
            border: 6px solid var(--purple); /* Bordes gruesos */
            border-radius: 30px;
            padding: 20px;
            box-shadow: 8px 8px 0 rgba(155, 109, 255, 0.15);
        }

        h2 { color: var(--purple); border-bottom: 3px dashed #eee; padding-bottom: 10px; font-size: 1.2em; }
        .editable { outline: none; min-height: 120px; line-height: 1.6; }

        /* BOTONES */
        .btn-add {
            background: var(--purple);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="header">
        <img src="https://upload.wikimedia.org/wikipedia/en/5/53/Snoopy_Peanuts.png" class="snoopy">
        <h1 id="title" contenteditable="true">Danna's Quest 2026</h1>
        <div style="font-weight: bold; color: var(--purple);">
            FALTAN <span id="days-count">00</span> D√çAS | Examen: 
            <input type="date" id="exam-date" style="border: 2px solid var(--purple); border-radius: 8px; font-family: inherit;">
        </div>
    </div>

    <div class="top-widgets">
        <div class="widget">
            <div id="frase" contenteditable="true" style="font-style: italic;">"Haz que hoy cuente ‚ú®"</div>
        </div>
        <div class="widget">
            <b>Progreso General: <span id="progreso-num" contenteditable="true">10</span>%</b>
            <div style="background:#eee; height:15px; border-radius:10px; margin-top:8px; border:2px solid #ddd; overflow:hidden;">
                <div id="barra" style="background:var(--purple); width:10%; height:100%; transition:0.5s;"></div>
            </div>
        </div>
    </div>

    <div class="grid">
        <section>
            <h2 contenteditable="true">‚úÖ TAREAS (Tachar/Borrar)</h2>
            <div style="display:flex; gap:8px; margin-bottom:15px;">
                <input type="text" id="todo-input" placeholder="Nueva tarea..." style="flex:1; padding:10px; border:2px solid #ddd; border-radius:12px;">
                <button class="btn-add" onclick="addTodo()">A√±adir</button>
            </div>
            <div id="todo-list"></div>
        </section>

        <section>
            <h2 contenteditable="true">üí∞ CONTROL DE COSTOS</h2>
            <div class="editable" id="costos" contenteditable="true">
                ‚Ä¢ Pin UdeA: $74.000 <br>
                ‚Ä¢ Pin ICFES: $ <br>
                ‚Ä¢ Otros: $
            </div>
        </section>

        <section>
            <h2 contenteditable="true">üìù APUNTES: ICFES</h2>
            <div class="editable" id="apuntes-icfes" contenteditable="true">Escribe tus temas clave aqu√≠...</div>
        </section>

        <section>
            <h2 contenteditable="true">üéì APUNTES: UdeA / ADMISI√ìN</h2>
            <div class="editable" id="apuntes-udea" contenteditable="true">L√≥gica y competencia lectora...</div>
        </div>

        <section>
            <h2 contenteditable="true">üè´ APUNTES: COLEGIO</h2>
            <div class="editable" id="apuntes-cole" contenteditable="true">Pendientes de materias del cole...</div>
        </section>

        <section>
            <h2 contenteditable="true">üìä PUNTAJES SIMULACROS</h2>
            <div class="editable" id="simulacros" contenteditable="true">
                <b>Meta: 350+</b><br>
                ‚Ä¢ Simulacro 1: <br>
                ‚Ä¢ Simulacro 2: 
            </div>
        </section>
    </div>

    <script>
        const ids = ['title', 'frase', 'progreso-num', 'exam-date', 'costos', 'apuntes-icfes', 'apuntes-udea', 'apuntes-cole', 'simulacros'];
        
        window.onload = () => {
            ids.forEach(id => {
                const saved = localStorage.getItem(id);
                if(saved) {
                    if(id === 'exam-date') document.getElementById(id).value = saved;
                    else document.getElementById(id).innerHTML = saved;
                }
            });
            renderTodos();
            updateBar();
            updateCountdown();
        };

        document.addEventListener('input', (e) => {
            if(ids.includes(e.target.id)) {
                localStorage.setItem(e.target.id, e.target.value || e.target.innerHTML);
                if(e.target.id === 'progreso-num') updateBar();
                if(e.target.id === 'exam-date') updateCountdown();
            }
        });

        function updateBar() {
            let n = parseInt(document.getElementById('progreso-num').innerText) || 0;
            document.getElementById('barra').style.width = Math.min(n, 100) + '%';
        }

        function updateCountdown() {
            const date = document.getElementById('exam-date').value;
            if(!date) return;
            const diff = new Date(date) - new Date();
            document.getElementById('days-count').innerText = Math.max(0, Math.ceil(diff / (1000*60*60*24)));
        }

        // SISTEMA DE TAREAS (TODO)
        function addTodo() {
            const input = document.getElementById('todo-input');
            if(!input.value) return;
            const tasks = JSON.parse(localStorage.getItem('tasks-v2') || '[]');
            tasks.push({ text: input.value, completed: false });
            localStorage.setItem('tasks-v2', JSON.stringify(tasks));
            input.value = '';
            renderTodos();
        }

        function toggleTodo(index) {
            const tasks = JSON.parse(localStorage.getItem('tasks-v2'));
            tasks[index].completed = !tasks[index].completed;
            localStorage.setItem('tasks-v2', JSON.stringify(tasks));
            renderTodos();
        }

        function deleteTodo(index) {
            const tasks = JSON.parse(localStorage.getItem('tasks-v2'));
            tasks.splice(index, 1);
            localStorage.setItem('tasks-v2', JSON.stringify(tasks));
            renderTodos();
        }

        function renderTodos() {
            const list = document.getElementById('todo-list');
            const tasks = JSON.parse(localStorage.getItem('tasks-v2') || '[]');
            list.innerHTML = tasks.map((t, i) => `
                <div class="todo-item">
                    <span class="todo-text ${t.completed ? 'completed' : ''}" onclick="toggleTodo(${i})">
                        ${t.text}
                    </span>
                    <button class="delete-btn" onclick="deleteTodo(${i})">X</button>
                </div>
            `).join('');
        }
    </script>
</body>
</html>
